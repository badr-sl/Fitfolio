<!-- Conteneur principal de l'application -->
<div class="training-container">

  <!-- En-tÃªte de la page -->
  <div class="header-text">
    <h1>Choose a training for today ðŸ”¥</h1> 
    <p class="subtitle">TOO MUCH PROTEIN? NO WHEY, MATE.</p> 
  </div>
  
  <!-- Cercles reprÃ©sentant les activitÃ©s disponibles -->
  <div class="activity-circles">
    <!-- Conteneur pour itÃ©rer sur les activitÃ©s avec *ngFor -->
    <ng-container *ngFor="let activity of activities">
      <div
        class="activity-circle" 
        [ngClass]="{'selected': selectedActivity?.titre === activity.titre}" 
        *ngIf="!isActivityConfirmed || selectedActivity?.titre === activity.titre" 
        (click)="selectActivity(activity)" 
      >
        <img [src]="activity.image" alt="{{ activity.titre }}" (error)="onImageError($event)" /> 
        <!-- Affiche l'icÃ´ne de l'activitÃ© -->
      </div>
    </ng-container>
  </div>
  
  <!-- Section des dÃ©tails de l'activitÃ© -->
  <div class="activity-details">
    <!-- Affiche les dÃ©tails de l'activitÃ© si elle n'est pas encore confirmÃ©e -->
    <div class="content" *ngIf="!isActivityConfirmed; else confirmedActivity">
      <h2>{{ selectedActivity?.titre }}</h2> <!-- Nom de l'activitÃ© -->
      <p>{{ selectedActivity?.description }}</p> <!-- Description de l'activitÃ© -->
      <button class="start-btn">{{ selectedActivity?.speed }}</button> <!-- Vitesse ou rÃ©pÃ©titions -->
      <button class="select-btn" id="Btn1" (click)="selection()">Select</button> <!-- Bouton pour confirmer l'activitÃ© -->
    </div>
  
    <!-- ModÃ¨le pour afficher l'activitÃ© confirmÃ©e -->
    <ng-template #confirmedActivity>
      <div class="content">
        <h2>Your activity of the day</h2> <!-- Message de confirmation -->
        <p class="start-btn">{{ selectedActivity?.titre }}</p> <!-- Nom de l'activitÃ© -->
        <p>{{ selectedActivity?.description }}</p> <!-- Description -->
        <p><strong>Speed:</strong> {{ selectedActivity?.speed }}</p> <!-- Vitesse ou rÃ©pÃ©titions -->
        <p><strong>Calories:</strong> {{ selectedActivity?.nbrcalories }} kcal</p> <!-- Calories brÃ»lÃ©es -->
        <button class="select-btn" (click)="confirmSelection()">Confirm Activity</button> <!-- Bouton pour confirmer l'activitÃ© -->
      </div>
    </ng-template>
  </div>  
  
  <div id="successMessageDiv" *ngIf="successMessage" style="display: green;">
    {{ successMessage }}
  </div>
  
  <div id="errorMessageDiv" *ngIf="errorMessage" style="color: red;">
    {{ errorMessage }}
  </div>
  
  
  <div class="history-section">
   
    <h2>Past Activities</h2> <!-- Section Title -->
    <div class="past-activity" *ngFor="let past of pastActivities">
      <div class="past-info">
        <h3>{{ past.titre }}</h3> <!-- Activity Title -->
        <p>{{ past.date }}</p> <!-- Date -->
        <p>{{ past.description }}</p> <!-- Description -->
      </div>
      <img [src]="past.image" alt="{{ past.titre }}" class="past-icon" /> <!-- Activity Icon -->
    </div>
  </div>
  <div *ngIf="pastActivities.length === 0" class="no-activities-message" style="color: gray;">
    No past activities yet.
  </div>

</div>
